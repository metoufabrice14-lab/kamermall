<!doctype html>
<html lang="fr">
<head>
  <meta charset="utf-8">
  <title>Panier â€” KamerMall</title>
  <meta name="description" content="Votre panier KamerMall. VÃ©rifiez les produits et passez Ã  la caisse.">
  <link rel="canonical" href="https://metoufabrice14-lab.github.io/kamermall-website/cart.html">
  <link rel="stylesheet" href="assets/styles.css">
</head>
<body>
<header>
  <div class="logo">KamerMall</div>
  <div class="header-right">
    <button id="theme-toggle" class="control-btn">ðŸŒ“</button>
    <button class="control-btn lang-btn" data-lang="fr">FR</button>
    <button class="control-btn lang-btn" data-lang="en">EN</button>
  </div>
  <nav><a href="index.html">Accueil</a></nav>
</header>

<main class="section">
  <h2>Panier</h2>
  <div id="cart-items" style="max-width:900px; margin:auto;"></div>
  <div style="max-width:900px; margin:20px auto; text-align:right;">
    <a class="btn" href="checkout.html">Passer Ã  la caisse</a>
  </div>
</main>

<footer><p style="text-align:center;">Â© 2025 KamerMall</p></footer>
<script src="assets/script.js" defer></script>
<script>
  // Render cart items (script.js manages storage)
  document.addEventListener('DOMContentLoaded', ()=>{
    const container = document.getElementById('cart-items');
    const cart = JSON.parse(localStorage.getItem('km_cart')||'[]');
    if(!cart.length){ container.innerHTML = '<p>Votre panier est vide.</p>'; return; }
    let html = '<table style="width:100%; border-collapse:collapse;"><tr><th>Produit</th><th>Prix</th></tr>';
    let total = 0;
    cart.forEach(it=>{
      html += `<tr><td>${it.title}</td><td>${(it.price).toLocaleString()} FCFA</td></tr>`;
      total += Number(it.price);
    });
    html += `<tr><td style="text-align:right;font-weight:800;">Total</td><td style="font-weight:800;">${total.toLocaleString()} FCFA</td></tr></table>`;
    container.innerHTML = html;
  });
</script>
</body>
</html>
